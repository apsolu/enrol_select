{"version":3,"file":"administration_overview.min.js","sources":["../src/administration_overview.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Module javascript.\n *\n * @todo       Description à compléter.\n *\n * @module     enrol_select/administration_overview\n * @copyright  2020 Université Rennes 2 <dsi-contact@univ-rennes2.fr>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine([], function() {\n    return {\n        initialise : function() {\n            var table = document.getElementById('table-enrolments-overview');\n\n            if (table === false) {\n                return;\n            }\n\n            // Insère une checkbox au dessus de la liste des méthodes d'inscription.\n            var div = document.createElement('div');\n            div.innerHTML = '<p class=\"alert alert-danger\">'+\n                '<label>'+\n                '<input id=\"show-only-errors\" type=\"checkbox\" /><span class=\"px-2\">Afficher uniquement les erreurs</span>'+\n                '</label>'+\n                '</p>';\n            table.before(div);\n\n            // Place un évènement pour afficher uniquement les lignes en erreur.\n            var input = document.getElementById('show-only-errors');\n            input.addEventListener('change', function() {\n                var style = 'table-row';\n                var rows = document.querySelectorAll(\"#table-enrolments-overview tr[data-anomalies='0']\");\n                if (input.checked) {\n                    style = 'none';\n                }\n\n                for (var i = 0; i < rows.length; i++) {\n                    rows[i].style.display = style;\n                }\n            });\n        }\n    };\n});\n"],"names":["define","initialise","table","document","getElementById","div","createElement","innerHTML","before","input","addEventListener","style","rows","querySelectorAll","checked","i","length","display"],"mappings":";;;;;;;;;AAyBAA,8CAAO,IAAI,iBACA,CACHC,WAAa,eACLC,MAAQC,SAASC,eAAe,iCAEtB,IAAVF,WAKAG,IAAMF,SAASG,cAAc,OACjCD,IAAIE,UAAY,4JAKhBL,MAAMM,OAAOH,SAGTI,MAAQN,SAASC,eAAe,oBACpCK,MAAMC,iBAAiB,UAAU,eACzBC,MAAQ,YACRC,KAAOT,SAASU,iBAAiB,qDACjCJ,MAAMK,UACNH,MAAQ,YAGP,IAAII,EAAI,EAAGA,EAAIH,KAAKI,OAAQD,IAC7BH,KAAKG,GAAGJ,MAAMM,QAAUN"}