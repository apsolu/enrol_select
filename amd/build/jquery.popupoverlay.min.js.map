{"version":3,"file":"jquery.popupoverlay.min.js","sources":["../src/jquery.popupoverlay.js"],"sourcesContent":["/*!\r\n * jQuery Popup Overlay\r\n *\r\n * @version 1.7.13\r\n * @requires jQuery v1.7.1+\r\n * @link http://vast-engineering.github.com/jquery-popup-overlay/\r\n */\r\n\r\n// Ajout julien\r\n(function (factory) {\r\n\t// UMD start\r\n\t// https://github.com/umdjs/umd/blob/master/jqueryPluginCommonjs.js\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\t// AMD. Register as an anonymous module.\r\n\t\tdefine(['jquery'], factory);\r\n\t} else if (typeof module === 'object' && module.exports) {\r\n\t\t// Node/CommonJS\r\n\t\tmodule.exports = function( root, jQuery ) {\r\n\t\t\tif ( jQuery === undefined ) {\r\n\t\t\t\t// require('jQuery') returns a factory that requires window to\r\n\t\t\t\t// build a jQuery instance, we normalize how we use modules\r\n\t\t\t\t// that require this pattern but the window provided is a noop\r\n\t\t\t\t// if it's defined (how jquery works)\r\n\t\t\t\tif ( typeof window !== 'undefined' ) {\r\n\t\t\t\t\tjQuery = require('jquery');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tjQuery = require('jquery')(root);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfactory(jQuery);\r\n\t\t\treturn jQuery;\r\n\t\t};\r\n\t} else {\r\n\t\t// Browser globals\r\n\t\tfactory(jQuery);\r\n\t}\r\n}// fin ajout julien\r\n\r\n// ; \r\n(function ($) {\r\n\r\n    var $window = $(window);\r\n    var options = {};\r\n    var zindexvalues = [];\r\n    var lastclicked = [];\r\n    var scrollbarwidth;\r\n    var bodymarginright = null;\r\n    var opensuffix = '_open';\r\n    var closesuffix = '_close';\r\n    var visiblePopupsArray = [];\r\n    var transitionsupport = null;\r\n    var opentimer;\r\n    var iOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);\r\n    var focusableElementsString = \"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]\";\r\n\r\n    var methods = {\r\n\r\n        _init: function (el) {\r\n            var $el = $(el);\r\n            var options = $el.data('popupoptions');\r\n            lastclicked[el.id] = false;\r\n            zindexvalues[el.id] = 0;\r\n\r\n            if (!$el.data('popup-initialized')) {\r\n                $el.attr('data-popup-initialized', 'true');\r\n                methods._initonce(el);\r\n            }\r\n\r\n            if (options.autoopen) {\r\n                setTimeout(function() {\r\n                    methods.show(el, 0);\r\n                }, 0);\r\n            }\r\n        },\r\n\r\n        _initonce: function (el) {\r\n            var $el = $(el);\r\n            var $body = $('body');\r\n            var $wrapper;\r\n            var options = $el.data('popupoptions');\r\n            var css;\r\n\r\n            bodymarginright = parseInt($body.css('margin-right'), 10);\r\n            transitionsupport = document.body.style.webkitTransition !== undefined ||\r\n                                document.body.style.MozTransition !== undefined ||\r\n                                document.body.style.msTransition !== undefined ||\r\n                                document.body.style.OTransition !== undefined ||\r\n                                document.body.style.transition !== undefined;\r\n\r\n            if (options.type == 'tooltip') {\r\n                options.background = false;\r\n                options.scrolllock = false;\r\n            }\r\n\r\n            if (options.backgroundactive) {\r\n                options.background = false;\r\n                options.blur = false;\r\n                options.scrolllock = false;\r\n            }\r\n\r\n            if (options.scrolllock) {\r\n                // Calculate the browser's scrollbar width dynamically\r\n                var parent;\r\n                var child;\r\n                if (typeof scrollbarwidth === 'undefined') {\r\n                    parent = $('<div style=\"width:50px;height:50px;overflow:auto\"><div/></div>').appendTo('body');\r\n                    child = parent.children();\r\n                    scrollbarwidth = child.innerWidth() - child.height(99).innerWidth();\r\n                    parent.remove();\r\n                }\r\n            }\r\n\r\n            if (!$el.attr('id')) {\r\n                $el.attr('id', 'j-popup-' + parseInt((Math.random() * 100000000), 10));\r\n            }\r\n\r\n            $el.addClass('popup_content');\r\n\r\n            if ((options.background) && (!$('#' + el.id + '_background').length)) {\r\n\r\n                $body.append('<div id=\"' + el.id + '_background\" class=\"popup_background\"></div>');\r\n\r\n                var $background = $('#' + el.id + '_background');\r\n\r\n                $background.css({\r\n                    opacity: 0,\r\n                    visibility: 'hidden',\r\n                    backgroundColor: options.color,\r\n                    position: 'fixed',\r\n                    top: 0,\r\n                    right: 0,\r\n                    bottom: 0,\r\n                    left: 0\r\n                });\r\n\r\n                if (options.setzindex && !options.autozindex) {\r\n                    $background.css('z-index', '100000');\r\n                }\r\n\r\n                if (options.transition) {\r\n                    $background.css('transition', options.transition);\r\n                }\r\n            }\r\n\r\n            $body.append(el);\r\n\r\n            $el.wrap('<div id=\"' + el.id + '_wrapper\" class=\"popup_wrapper\" />');\r\n\r\n            $wrapper = $('#' + el.id + '_wrapper');\r\n\r\n            $wrapper.css({\r\n                opacity: 0,\r\n                visibility: 'hidden',\r\n                position: 'absolute'\r\n            });\r\n\r\n            // Make div clickable in iOS\r\n            if (iOS) {\r\n                $wrapper.css('cursor', 'pointer');\r\n            }\r\n\r\n            if (options.type == 'overlay') {\r\n                $wrapper.css('overflow','auto');\r\n            }\r\n\r\n            $el.css({\r\n                opacity: 0,\r\n                visibility: 'hidden',\r\n                display: 'inline-block'\r\n            });\r\n\r\n            if (options.setzindex && !options.autozindex) {\r\n                $wrapper.css('z-index', '100001');\r\n            }\r\n\r\n            if (!options.outline) {\r\n                $el.css('outline', 'none');\r\n            }\r\n\r\n            if (options.transition) {\r\n                $el.css('transition', options.transition);\r\n                $wrapper.css('transition', options.transition);\r\n            }\r\n\r\n            // Hide popup content from screen readers initially\r\n            $el.attr('aria-hidden', true);\r\n\r\n            if (options.type == 'overlay') {\r\n                $el.css({\r\n                    textAlign: 'left',\r\n                    position: 'relative',\r\n                    verticalAlign: 'middle'\r\n                });\r\n\r\n                css = {\r\n                    position: 'fixed',\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    top: 0,\r\n                    left: 0,\r\n                    textAlign: 'center'\r\n                };\r\n\r\n                if(options.backgroundactive){\r\n                    css.position = 'absolute';\r\n                    css.height = '0';\r\n                    css.overflow = 'visible';\r\n                }\r\n\r\n                $wrapper.css(css);\r\n\r\n                // CSS vertical align helper\r\n                $wrapper.append('<div class=\"popup_align\" />');\r\n\r\n                $('.popup_align').css({\r\n                    display: 'inline-block',\r\n                    verticalAlign: 'middle',\r\n                    height: '100%'\r\n                });\r\n            }\r\n\r\n            // Add WAI ARIA role to announce dialog to screen readers\r\n            $el.attr('role', 'dialog');\r\n\r\n            var openelement =  (options.openelement) ? options.openelement : ('.' + el.id + opensuffix);\r\n\r\n            $(openelement).each(function (i, item) {\r\n                $(item).attr('data-popup-ordinal', i);\r\n\r\n                if (!item.id) {\r\n                    $(item).attr('id', 'open_' + parseInt((Math.random() * 100000000), 10));\r\n                }\r\n            });\r\n\r\n            // Set aria-labelledby (if aria-label or aria-labelledby is not set in html)\r\n            if (!($el.attr('aria-labelledby') || $el.attr('aria-label'))) {\r\n                $el.attr('aria-labelledby', $(openelement).attr('id'));\r\n            }\r\n\r\n            // Show and hide tooltips on hover\r\n            if(options.action == 'hover'){\r\n                options.keepfocus = false;\r\n\r\n                // Handler: mouseenter, focusin\r\n                $(openelement).on('mouseenter', function (event) {\r\n                    methods.show(el, $(this).data('popup-ordinal'));\r\n                });\r\n\r\n                // Handler: mouseleave, focusout\r\n                $(openelement).on('mouseleave', function (event) {\r\n                    methods.hide(el);\r\n                });\r\n\r\n            } else {\r\n\r\n                // Handler: Show popup when clicked on `open` element\r\n                $(document).on('click', openelement, function (event) {\r\n                    event.preventDefault();\r\n\r\n                    var ord = $(this).data('popup-ordinal');\r\n                    setTimeout(function() { // setTimeout is to allow `close` method to finish (for issues with multiple tooltips)\r\n                        methods.show(el, ord);\r\n                    }, 0);\r\n                });\r\n            }\r\n\r\n            if (options.closebutton) {\r\n                methods.addclosebutton(el);\r\n            }\r\n\r\n            if (options.detach) {\r\n                $el.hide().detach();\r\n            } else {\r\n                $wrapper.hide();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Show method\r\n         *\r\n         * @param {object} el - popup instance DOM node\r\n         * @param {number} ordinal - order number of an `open` element\r\n         */\r\n        show: function (el, ordinal) {\r\n            var $el = $(el);\r\n\r\n            if ($el.data('popup-visible')) return;\r\n\r\n            // Initialize if not initialized. Required for: $('#popup').popup('show')\r\n            if (!$el.data('popup-initialized')) {\r\n                methods._init(el);\r\n            }\r\n            $el.attr('data-popup-initialized', 'true');\r\n\r\n            var $body = $('body');\r\n            var options = $el.data('popupoptions');\r\n            var $wrapper = $('#' + el.id + '_wrapper');\r\n            var $background = $('#' + el.id + '_background');\r\n\r\n            // `beforeopen` callback event\r\n            callback(el, ordinal, options.beforeopen);\r\n\r\n            // Remember last clicked place\r\n            lastclicked[el.id] = ordinal;\r\n\r\n            // Add popup id to visiblePopupsArray\r\n            setTimeout(function() {\r\n                visiblePopupsArray.push(el.id);\r\n            }, 0);\r\n\r\n            // Calculating maximum z-index\r\n            if (options.autozindex) {\r\n\r\n                var elements = document.getElementsByTagName('*');\r\n                var len = elements.length;\r\n                var maxzindex = 0;\r\n\r\n                for(var i=0; i<len; i++){\r\n\r\n                    var elementzindex = $(elements[i]).css('z-index');\r\n\r\n                    if(elementzindex !== 'auto'){\r\n\r\n                      elementzindex = parseInt(elementzindex, 10);\r\n\r\n                      if(maxzindex < elementzindex){\r\n                        maxzindex = elementzindex;\r\n                      }\r\n                    }\r\n                }\r\n\r\n                zindexvalues[el.id] = maxzindex;\r\n\r\n                // Add z-index to the background\r\n                if (options.background) {\r\n                    if (zindexvalues[el.id] > 0) {\r\n                        $('#' + el.id + '_background').css({\r\n                            zIndex: (zindexvalues[el.id] + 1)\r\n                        });\r\n                    }\r\n                }\r\n\r\n                // Add z-index to the wrapper\r\n                if (zindexvalues[el.id] > 0) {\r\n                    $wrapper.css({\r\n                        zIndex: (zindexvalues[el.id] + 2)\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (options.detach) {\r\n                $wrapper.prepend(el);\r\n                $el.show();\r\n            } else {\r\n                $wrapper.show();\r\n            }\r\n\r\n            opentimer = setTimeout(function() {\r\n                $wrapper.css({\r\n                    visibility: 'visible',\r\n                    opacity: 1\r\n                });\r\n\r\n                $('html').addClass('popup_visible').addClass('popup_visible_' + el.id);\r\n                $wrapper.addClass('popup_wrapper_visible');\r\n            }, 20); // 20ms required for opening animation to occur in FF\r\n\r\n            // Disable background layer scrolling when popup is opened\r\n            if (options.scrolllock) {\r\n                $body.css('overflow', 'hidden');\r\n                if ($body.height() > $window.height()) {\r\n                    $body.css('margin-right', bodymarginright + scrollbarwidth);\r\n                }\r\n            }\r\n\r\n            if(options.backgroundactive){\r\n                //calculates the vertical align\r\n                $el.css({\r\n                    top:(\r\n                        $window.height() - (\r\n                            $el.get(0).offsetHeight +\r\n                            parseInt($el.css('margin-top'), 10) +\r\n                            parseInt($el.css('margin-bottom'), 10)\r\n                        )\r\n                    )/2 +'px'\r\n                });\r\n            }\r\n\r\n            $el.css({\r\n                'visibility': 'visible',\r\n                'opacity': 1\r\n            });\r\n\r\n            // Show background\r\n            if (options.background) {\r\n                $background.css({\r\n                    'visibility': 'visible',\r\n                    'opacity': options.opacity\r\n                });\r\n\r\n                // Fix IE8 issue with background not appearing\r\n                setTimeout(function() {\r\n                    $background.css({\r\n                        'opacity': options.opacity\r\n                    });\r\n                }, 0);\r\n            }\r\n\r\n            $el.data('popup-visible', true);\r\n\r\n            // Position popup\r\n            methods.reposition(el, ordinal);\r\n\r\n            // Remember which element had focus before opening a popup\r\n            $el.data('focusedelementbeforepopup', document.activeElement);\r\n\r\n            // Handler: Keep focus inside dialog box\r\n            if (options.keepfocus) {\r\n                // Make holder div focusable\r\n                $el.attr('tabindex', -1);\r\n\r\n                // Focus popup or user specified element.\r\n                // Initial timeout of 50ms is set to give some time to popup to show after clicking on\r\n                // `open` element, and after animation is complete to prevent background scrolling.\r\n                setTimeout(function() {\r\n                    if (options.focuselement === 'closebutton') {\r\n                        $('#' + el.id + ' .' + el.id + closesuffix + ':first').focus();\r\n                    } else if (options.focuselement) {\r\n                        $(options.focuselement).focus();\r\n                    } else {\r\n                        $el.focus();\r\n                    }\r\n                }, options.focusdelay);\r\n\r\n            }\r\n\r\n            // Hide main content from screen readers\r\n            $(options.pagecontainer).attr('aria-hidden', true);\r\n\r\n            // Reveal popup content to screen readers\r\n            $el.attr('aria-hidden', false);\r\n\r\n            callback(el, ordinal, options.onopen);\r\n\r\n            if (transitionsupport) {\r\n                $wrapper.one('transitionend', function() {\r\n                    callback(el, ordinal, options.opentransitionend);\r\n                });\r\n            } else {\r\n                callback(el, ordinal, options.opentransitionend);\r\n            }\r\n\r\n            // Handler: Reposition tooltip when window is resized\r\n            if (options.type == 'tooltip') {\r\n                $(window).on('resize.' + el.id, function () {\r\n                    methods.reposition(el, ordinal);\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Hide method\r\n         *\r\n         * @param object el - popup instance DOM node\r\n         * @param boolean outerClick - click on the outer content below popup\r\n         */\r\n        hide: function (el, outerClick) {\r\n            // Get index of popup ID inside of visiblePopupsArray\r\n            var popupIdIndex = $.inArray(el.id, visiblePopupsArray);\r\n\r\n            // If popup is not opened, ignore the rest of the function\r\n            if (popupIdIndex === -1) {\r\n                return;\r\n            }\r\n\r\n            if(opentimer) clearTimeout(opentimer);\r\n\r\n            var $body = $('body');\r\n            var $el = $(el);\r\n            var options = $el.data('popupoptions');\r\n            var $wrapper = $('#' + el.id + '_wrapper');\r\n            var $background = $('#' + el.id + '_background');\r\n\r\n            $el.data('popup-visible', false);\r\n\r\n            if (visiblePopupsArray.length === 1) {\r\n                $('html').removeClass('popup_visible').removeClass('popup_visible_' + el.id);\r\n            } else {\r\n                if($('html').hasClass('popup_visible_' + el.id)) {\r\n                    $('html').removeClass('popup_visible_' + el.id);\r\n                }\r\n            }\r\n\r\n            // Remove popup from the visiblePopupsArray\r\n            visiblePopupsArray.splice(popupIdIndex, 1);\r\n\r\n            if($wrapper.hasClass('popup_wrapper_visible')) {\r\n                $wrapper.removeClass('popup_wrapper_visible');\r\n            }\r\n\r\n            // Focus back on saved element\r\n            if (options.keepfocus && !outerClick) {\r\n                setTimeout(function() {\r\n                    if ($($el.data('focusedelementbeforepopup')).is(':visible')) {\r\n                        $el.data('focusedelementbeforepopup').focus();\r\n                    }\r\n                }, 0);\r\n            }\r\n\r\n            // Hide popup\r\n            $wrapper.css({\r\n                'visibility': 'hidden',\r\n                'opacity': 0\r\n            });\r\n            $el.css({\r\n                'visibility': 'hidden',\r\n                'opacity': 0\r\n            });\r\n\r\n            // Hide background\r\n            if (options.background) {\r\n                $background.css({\r\n                    'visibility': 'hidden',\r\n                    'opacity': 0\r\n                });\r\n            }\r\n\r\n            // Reveal main content to screen readers\r\n            $(options.pagecontainer).attr('aria-hidden', false);\r\n\r\n            // Hide popup content from screen readers\r\n            $el.attr('aria-hidden', true);\r\n\r\n            // `onclose` callback event\r\n            callback(el, lastclicked[el.id], options.onclose);\r\n\r\n            if (transitionsupport && $el.css('transition-duration') !== '0s') {\r\n                $el.one('transitionend', function(e) {\r\n\r\n                    if (!($el.data('popup-visible'))) {\r\n                        if (options.detach) {\r\n                            $el.hide().detach();\r\n                        } else {\r\n                            $wrapper.hide();\r\n                        }\r\n                    }\r\n\r\n                    // Re-enable scrolling of background layer\r\n                    if (options.scrolllock) {\r\n                        setTimeout(function() {\r\n                            $body.css({\r\n                                overflow: 'visible',\r\n                                'margin-right': bodymarginright\r\n                            });\r\n                        }, 10); // 10ms added for CSS transition in Firefox which doesn't like overflow:auto\r\n                    }\r\n\r\n                    callback(el, lastclicked[el.id], options.closetransitionend);\r\n                });\r\n            } else {\r\n                if (options.detach) {\r\n                    $el.hide().detach();\r\n                } else {\r\n                    $wrapper.hide();\r\n                }\r\n\r\n                // Re-enable scrolling of background layer\r\n                if (options.scrolllock) {\r\n                    setTimeout(function() {\r\n                        $body.css({\r\n                            overflow: 'visible',\r\n                            'margin-right': bodymarginright\r\n                        });\r\n                    }, 10); // 10ms added for CSS transition in Firefox which doesn't like overflow:auto\r\n                }\r\n\r\n                callback(el, lastclicked[el.id], options.closetransitionend);\r\n            }\r\n\r\n            if (options.type == 'tooltip') {\r\n                $(window).off('resize.' + el.id);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Toggle method\r\n         *\r\n         * @param {object} el - popup instance DOM node\r\n         * @param {number} ordinal - order number of an `open` element\r\n         */\r\n        toggle: function (el, ordinal) {\r\n            if ($(el).data('popup-visible')) {\r\n                methods.hide(el);\r\n            } else {\r\n                setTimeout(function() {\r\n                    methods.show(el, ordinal);\r\n                }, 0);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reposition method\r\n         *\r\n         * @param {object} el - popup instance DOM node\r\n         * @param {number} ordinal - order number of an `open` element\r\n         */\r\n        reposition: function (el, ordinal) {\r\n            var $el = $(el);\r\n            var options = $el.data('popupoptions');\r\n            var $wrapper = $('#' + el.id + '_wrapper');\r\n            var $background = $('#' + el.id + '_background');\r\n\r\n            ordinal = ordinal || 0;\r\n\r\n            // Tooltip type\r\n            if (options.type == 'tooltip') {\r\n                $wrapper.css({\r\n                    'position': 'absolute'\r\n                });\r\n\r\n                var $tooltipanchor;\r\n                if (options.tooltipanchor) {\r\n                    $tooltipanchor = $(options.tooltipanchor);\r\n                } else if (options.openelement) {\r\n                    $tooltipanchor = $(options.openelement).filter('[data-popup-ordinal=\"' + ordinal + '\"]');\r\n                } else {\r\n                    $tooltipanchor = $('.' + el.id + opensuffix + '[data-popup-ordinal=\"' + ordinal + '\"]');\r\n                }\r\n\r\n                var linkOffset = $tooltipanchor.offset();\r\n\r\n                // Horizontal position for tooltip\r\n                if (options.horizontal == 'right') {\r\n                    $wrapper.css('left', linkOffset.left + $tooltipanchor.outerWidth() + options.offsetleft);\r\n                } else if (options.horizontal == 'leftedge') {\r\n                    $wrapper.css('left', linkOffset.left + $tooltipanchor.outerWidth() - $tooltipanchor.outerWidth() +  options.offsetleft);\r\n                } else if (options.horizontal == 'left') {\r\n                    $wrapper.css('right', $window.width() - linkOffset.left  - options.offsetleft);\r\n                } else if (options.horizontal == 'rightedge') {\r\n                    $wrapper.css('right', $window.width()  - linkOffset.left - $tooltipanchor.outerWidth() - options.offsetleft);\r\n                } else {\r\n                    $wrapper.css('left', linkOffset.left + ($tooltipanchor.outerWidth() / 2) - ($el.outerWidth() / 2) - parseFloat($el.css('marginLeft')) + options.offsetleft);\r\n                }\r\n\r\n                // Vertical position for tooltip\r\n                if (options.vertical == 'bottom') {\r\n                    $wrapper.css('top', linkOffset.top + $tooltipanchor.outerHeight() + options.offsettop);\r\n                } else if (options.vertical == 'bottomedge') {\r\n                    $wrapper.css('top', linkOffset.top + $tooltipanchor.outerHeight() - $el.outerHeight() + options.offsettop);\r\n                } else if (options.vertical == 'top') {\r\n                    $wrapper.css('bottom', $window.height() - linkOffset.top - options.offsettop);\r\n                } else if (options.vertical == 'topedge') {\r\n                    $wrapper.css('bottom', $window.height() - linkOffset.top - $el.outerHeight() - options.offsettop);\r\n                } else {\r\n                    $wrapper.css('top', linkOffset.top + ($tooltipanchor.outerHeight() / 2) - ($el.outerHeight() / 2) - parseFloat($el.css('marginTop')) + options.offsettop);\r\n                }\r\n\r\n            // Overlay type\r\n            } else if (options.type == 'overlay') {\r\n\r\n                // Horizontal position for overlay\r\n                if (options.horizontal) {\r\n                    $wrapper.css('text-align', options.horizontal);\r\n                } else {\r\n                    $wrapper.css('text-align', 'center');\r\n                }\r\n\r\n                // Vertical position for overlay\r\n                if (options.vertical) {\r\n                    $el.css('vertical-align', options.vertical);\r\n                } else {\r\n                    $el.css('vertical-align', 'middle');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Add-close-button method\r\n         *\r\n         * @param {object} el - popup instance DOM node\r\n         */\r\n        addclosebutton: function (el) {\r\n            var genericCloseButton;\r\n\r\n            if ($(el).data('popupoptions').closebuttonmarkup) {\r\n                genericCloseButton = $(options.closebuttonmarkup).addClass(el.id + '_close');\r\n            } else {\r\n                genericCloseButton = '<button class=\"popup_close ' + el.id + '_close\" title=\"Close\" aria-label=\"Close\"><span aria-hidden=\"true\">×</span></button>';\r\n            }\r\n\r\n            if ($(el).data('popup-initialized')){\r\n                $(el).append(genericCloseButton);\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    /**\r\n     * Callback event calls\r\n     *\r\n     * @param {object} el - popup instance DOM node\r\n     * @param {number} ordinal - order number of an `open` element\r\n     * @param {function} func - callback function\r\n     */\r\n    var callback = function (el, ordinal, func) {\r\n        var options = $(el).data('popupoptions');\r\n        var openelement =  (options.openelement) ? options.openelement : ('.' + el.id + opensuffix);\r\n        var elementclicked = $(openelement + '[data-popup-ordinal=\"' + ordinal + '\"]');\r\n        if (typeof func == 'function') {\r\n            func.call($(el), el, elementclicked);\r\n        }\r\n    };\r\n\r\n    // Hide popup if ESC key is pressed\r\n    $(document).on('keydown', function (event) {\r\n        if(visiblePopupsArray.length) {\r\n            var elementId = visiblePopupsArray[visiblePopupsArray.length - 1];\r\n            var el = document.getElementById(elementId);\r\n\r\n            if ($(el).data('popupoptions').escape && event.keyCode == 27) {\r\n                methods.hide(el);\r\n            }\r\n        }\r\n    });\r\n\r\n    // Hide popup on click\r\n    $(document).on('click', function (event) {\r\n        if(visiblePopupsArray.length) {\r\n            var elementId = visiblePopupsArray[visiblePopupsArray.length - 1];\r\n            var el = document.getElementById(elementId);\r\n            var closeButton = ($(el).data('popupoptions').closeelement) ? $(el).data('popupoptions').closeelement : ('.' + el.id + closesuffix);\r\n\r\n            // If Close button clicked\r\n            if ($(event.target).closest(closeButton).length) {\r\n                event.preventDefault();\r\n                methods.hide(el);\r\n            }\r\n\r\n            // If clicked outside of popup\r\n            if ($(el).data('popupoptions').blur && !$(event.target).closest('#' + elementId).length && event.which !== 2 && $(event.target).is(':visible')) {\r\n\r\n                if ($(el).data('popupoptions').background) {\r\n                    // If clicked on popup cover\r\n                    methods.hide(el);\r\n\r\n                    // Older iOS/Safari will trigger a click on the elements below the cover,\r\n                    // when tapping on the cover, so the default action needs to be prevented.\r\n                    event.preventDefault();\r\n\r\n                } else {\r\n                    // If clicked on outer content\r\n                    methods.hide(el, true);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    // Keep keyboard focus inside of popup\r\n    $(document).on('keydown', function(event) {\r\n        if(visiblePopupsArray.length && event.which == 9) {\r\n\r\n            // If tab or shift-tab pressed\r\n            var elementId = visiblePopupsArray[visiblePopupsArray.length - 1];\r\n            var el = document.getElementById(elementId);\r\n\r\n            // Get list of all children elements in given object\r\n            var popupItems = $(el).find('*');\r\n\r\n            // Get list of focusable items\r\n            var focusableItems = popupItems.filter(focusableElementsString).filter(':visible');\r\n\r\n            // Get currently focused item\r\n            var focusedItem = $(':focus');\r\n\r\n            // Get the number of focusable items\r\n            var numberOfFocusableItems = focusableItems.length;\r\n\r\n            // Get the index of the currently focused item\r\n            var focusedItemIndex = focusableItems.index(focusedItem);\r\n\r\n            // If popup doesn't contain focusable elements, focus popup itself\r\n            if (numberOfFocusableItems === 0) {\r\n                $(el).focus();\r\n                event.preventDefault();\r\n            } else {\r\n                if (event.shiftKey) {\r\n                    // Back tab\r\n                    // If focused on first item and user preses back-tab, go to the last focusable item\r\n                    if (focusedItemIndex === 0) {\r\n                        focusableItems.get(numberOfFocusableItems - 1).focus();\r\n                        event.preventDefault();\r\n                    }\r\n\r\n                } else {\r\n                    // Forward tab\r\n                    // If focused on the last item and user preses tab, go to the first focusable item\r\n                    if (focusedItemIndex == numberOfFocusableItems - 1) {\r\n                        focusableItems.get(0).focus();\r\n                        event.preventDefault();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Plugin API\r\n     */\r\n    $.fn.popup = function (customoptions) {\r\n        return this.each(function () {\r\n\r\n            var $el = $(this);\r\n\r\n            if (typeof customoptions === 'object') {  // e.g. $('#popup').popup({'color':'blue'})\r\n                var opt = $.extend({}, $.fn.popup.defaults, $el.data('popupoptions'), customoptions);\r\n                $el.data('popupoptions', opt);\r\n                options = $el.data('popupoptions');\r\n\r\n                methods._init(this);\r\n\r\n            } else if (typeof customoptions === 'string') { // e.g. $('#popup').popup('hide')\r\n                if (!($el.data('popupoptions'))) {\r\n                    $el.data('popupoptions', $.fn.popup.defaults);\r\n                    options = $el.data('popupoptions');\r\n                }\r\n\r\n                methods[customoptions].call(this, this);\r\n\r\n            } else { // e.g. $('#popup').popup()\r\n                if (!($el.data('popupoptions'))) {\r\n                    $el.data('popupoptions', $.fn.popup.defaults);\r\n                    options = $el.data('popupoptions');\r\n                }\r\n\r\n                methods._init(this);\r\n\r\n            }\r\n\r\n        });\r\n    };\r\n\r\n    $.fn.popup.defaults = {\r\n        type: 'overlay',\r\n        autoopen: false,\r\n        background: true,\r\n        backgroundactive: false,\r\n        color: 'black',\r\n        opacity: '0.5',\r\n        horizontal: 'center',\r\n        vertical: 'middle',\r\n        offsettop: 0,\r\n        offsetleft: 0,\r\n        escape: true,\r\n        blur: true,\r\n        setzindex: true,\r\n        autozindex: false,\r\n        scrolllock: false,\r\n        closebutton: false,\r\n        closebuttonmarkup: null,\r\n        keepfocus: true,\r\n        focuselement: null,\r\n        focusdelay: 50,\r\n        outline: false,\r\n        pagecontainer: null,\r\n        detach: false,\r\n        openelement: null,\r\n        closeelement: null,\r\n        transition: null,\r\n        tooltipanchor: null,\r\n        beforeopen: null,\r\n        onclose: null,\r\n        onopen: null,\r\n        opentransitionend: null,\r\n        closetransitionend: null\r\n    };\r\n\r\n}));// (jQuery);\r\n"],"names":["factory","$","scrollbarwidth","opentimer","$window","window","options","zindexvalues","lastclicked","bodymarginright","visiblePopupsArray","transitionsupport","iOS","test","navigator","userAgent","methods","_init","el","$el","data","id","attr","_initonce","autoopen","setTimeout","show","$wrapper","css","parent","child","$body","parseInt","undefined","document","body","style","webkitTransition","MozTransition","msTransition","OTransition","transition","type","background","scrolllock","backgroundactive","blur","appendTo","children","innerWidth","height","remove","Math","random","addClass","length","append","$background","opacity","visibility","backgroundColor","color","position","top","right","bottom","left","setzindex","autozindex","wrap","display","outline","textAlign","verticalAlign","width","overflow","openelement","each","i","item","action","keepfocus","on","event","this","hide","preventDefault","ord","closebutton","addclosebutton","detach","ordinal","callback","beforeopen","push","elements","getElementsByTagName","len","maxzindex","elementzindex","zIndex","prepend","get","offsetHeight","reposition","activeElement","focuselement","focus","focusdelay","pagecontainer","onopen","one","opentransitionend","outerClick","popupIdIndex","inArray","clearTimeout","removeClass","hasClass","splice","is","onclose","e","closetransitionend","off","toggle","$tooltipanchor","linkOffset","tooltipanchor","filter","offset","horizontal","outerWidth","offsetleft","parseFloat","vertical","outerHeight","offsettop","genericCloseButton","closebuttonmarkup","func","elementclicked","call","elementId","getElementById","escape","keyCode","closeButton","closeelement","target","closest","which","focusableItems","find","focusedItem","numberOfFocusableItems","focusedItemIndex","index","shiftKey","fn","popup","customoptions","opt","extend","defaults","define","amd","module","exports","root","jQuery","require"],"mappings":"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"}